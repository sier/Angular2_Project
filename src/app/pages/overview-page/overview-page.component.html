<title>Equilab | Overview</title>

<div class="container">
  <div class="wrapper">

    <div id="page-wrapper" [@slideToLeft]="'true'">

      <md-card>
        <md-tab-group>
          <md-tab>


            <!--  <p>{{weekday | date:"ww"}}</p>  -->

            <template class="tabColor" md-tab-label>
              Months
            </template>
            <select #select [(ngModel)]="current" [ngClass]="{setColor: current}"
                    (change)="selectedFromList($event.target.selectedIndex)">
              <option *ngFor="let item of list" [ngClass]="{unSetColor: item}" [value]="item.id">{{item.name}}
              </option>
            </select>

            <hr style="border-color: lightgrey; width:100%;">
            <p *ngFor='let v of _values2'>{{ v }} </p>
          </md-tab>
          <md-tab>
            <template md-tab-label>
              Weeks
            </template>
            <select #select [(ngModel)]="current" [ngClass]="{setColor: current}"
                    (change)="selectedFromList($event.target.selectedIndex)">
              <option *ngFor="let item of list" [ngClass]="{unSetColor: item}" [value]="item.id">{{item.name}}
              </option>
            </select>
            <p *ngFor='let v of _values2'>{{ v }} </p>
            <div class="rTable" style="width:100%;">
              <div class="rTableRow">
                <div class="rowsPadding rTableHead">Horses</div>
                <div *ngFor="let i of weeks" ngClass="rowsPadding rTableHead">{{i?.name}}</div>
              </div>
            </div>
            <hr style="border-color: lightgrey; width:100%;">
          </md-tab>

        <md-tab>
            <template md-tab-label>
              Days
            </template>
            <select #select [(ngModel)]="current" [ngClass]="{setColor: current}"
                    (change)="selectedFromList($event.target.selectedIndex)">
              <option *ngFor="let item of list" [ngClass]="{unSetColor: item}" [value]="item.id">{{item.name}}
              </option>
            </select>
            <p *ngFor='let v of _values2'>{{ v }} </p>

            <div class="rTable" style="width: 320px; height: 170px;">
              <div style="display: inline-table;" >
                <div class="rowsPadding rTableHead">Horses</div>

              </div>
              <div class="rTableRow">
              <div style="display: block" *ngFor="let horse of myPonnys; let i = index"  >
                <h4  [attr.data-target]="'#'+i" data-toggle="collapse"  class="rowsPadding">{{horse?.name}}</h4>
                  <div class="collapse" [attr.id]="i" style="">


                    <div class="" *ngFor="let training of horse.trainingsData; let trainingIndex = index"

                         style="display: inline-flex; border: 1px solid black; margin-left: 20px; margin-top: 10px;">
                      <div class="rTableHead rowsPadding">{{ training?.date | date:'MMM:d,EEEE' }}</div><br>

                      <div *ngIf="!isLoading" class="container-fluid" style="display:inline; margin-top: 5px;">

                        <p style="display: inline; ">Gait:</p>
                        <canvas style="display: inline; padding:24px;" baseChart width="100" height="70"
                                [datasets]="[{data: [training?.canter?.time.toFixed(1), training?.trot?.time.toFixed(1), training?.walk?.time.toFixed(1)]}]"
                                [labels]="barChartLabels"
                                [options]="barChartOptions"
                                [colors]="barChartColors"
                                [chartType]="barChartType"></canvas>
                      </div>
                      <p>Surface: {{training?.ground}}</p><br>
                      <p>Time: {{training?.total.time | secondsToTime}}</p><br>
                      <p>Distance: {{training?.total.distance | distance}}</p><br>

                       <div *ngIf="!isLoading" class="container-fluid" style="margin-top: 5px;">
                       <p style="display: inline">Turns: </p>
                        <canvas style="" baseChart width="30" height="10"
                                [datasets]="[{data: [training?.turns?.leftTotal, training?.turns?.rightTotal],label: ['Left Turns', 'Right Turns']}]"
                                [labels]="pieChartLabels"
                                [options]="pieChartOptions"
                                [colors]="pieChartColors"
                                [chartType]="pieChartType"
                                ></canvas>
                      </div><br>
                      <p>Horse Performance: {{training?.horse_performance}}/5</p><br>
                      <p>Rider Performance: {{training?.rider_performance}}/5</p><br>

                    </div>
                  </div>
                  </div>
                  </div>

                </div>

                <hr style="border-color: lightgrey; width:100%;">


          </md-tab>
        </md-tab-group>
      </md-card>
    </div>
  </div>
</div>

